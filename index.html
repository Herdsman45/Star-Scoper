<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data:;"
    />
    <title>Star Scoper</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="styles-selection.css" />
    <link rel="stylesheet" href="debug-toggle.css" />
    <link rel="stylesheet" href="star-call-styles.css" />
    <link rel="stylesheet" href="dark-theme.css" />
    <link rel="stylesheet" href="keybind-styles.css" />
  </head>
  <body>
    <div class="container">
      <div class="section">
        <div class="section-header">
          <h2>Quick Capture</h2>
          <button id="open-widget-btn" class="widget-button">
            Open Widget
          </button>
        </div>
        <div class="slots">
          <div class="slot">
            <div class="slot-header">
              <h3>Region Set 1</h3>
              <span class="slot-hotkey" id="slot1-hotkey">F13</span>
            </div>
            <div class="slot-actions">
              <button id="set-slot1" class="btn-secondary">
                ‚öôÔ∏è Setup Regions
              </button>
              <button id="capture-slot1" class="btn-primary">üì∏ Capture</button>
            </div>
            <div class="status" id="status-slot1"></div>
          </div>

          <div class="slot">
            <div class="slot-header">
              <h3>Region Set 2</h3>
              <span class="slot-hotkey" id="slot2-hotkey">F14</span>
            </div>
            <div class="slot-actions">
              <button id="set-slot2" class="btn-secondary">
                ‚öôÔ∏è Setup Regions
              </button>
              <button id="capture-slot2" class="btn-primary">üì∏ Capture</button>
            </div>
            <div class="status" id="status-slot2"></div>
          </div>
        </div>
      </div>

      <div class="section">
        <h2>Result</h2>
        <div class="result-container">
          <div class="result-column">
            <h3>Raw Text</h3>
            <div class="result-box" id="raw-text"></div>
            <button id="copy-raw">Copy Raw</button>
          </div>

          <div class="result-column">
            <h3>Star Call Format</h3>
            <div class="result-box" id="processed-text"></div>
            <button id="copy-processed">Copy Star Call</button>
          </div>
        </div>
      </div>

      <div class="section">
        <h2>Settings</h2>
        <div class="settings-list">
          <div class="setting">
            <label for="hotkey-slot1">Slot 1 Keybind:</label>
            <button id="hotkey-slot1" class="keybind-button">
              Click to set
            </button>
          </div>

          <div class="setting">
            <label for="hotkey-slot2">Slot 2 Keybind:</label>
            <button id="hotkey-slot2" class="keybind-button">
              Click to set
            </button>
          </div>

          <div class="setting">
            <label
              class="toggle-switch-label"
              title="Switch between light and dark interface themes"
            >
              <span class="switch">
                <input type="checkbox" id="dark-mode-toggle" />
                <span class="slider"></span>
              </span>
              Dark Mode
            </label>
          </div>

          <div class="setting">
            <label
              class="toggle-switch-label"
              title="Write processed text to file for external automation tools like AutoHotkey"
            >
              <span class="switch">
                <input type="checkbox" id="ahk-integration" />
                <span class="slider"></span>
              </span>
              Text File Output for Automations
            </label>
          </div>

          <div class="setting debug-setting">
            <label
              class="toggle-switch-label"
              title="Save debug images during OCR processing for troubleshooting"
            >
              <span class="switch">
                <input type="checkbox" id="debug-mode" />
                <span class="slider"></span>
              </span>
              Enable Debug Mode
            </label>
            <button
              id="open-debug-btn"
              class="btn debug-btn"
              title="Open folder containing debug images"
              style="
                background: linear-gradient(135deg, #42a5f5, #1e88e5);
                color: white;
                font-weight: 500;
                padding: 6px 12px;
                border: none;
                border-radius: 6px;
                cursor: pointer;
                font-size: 0.85em;
                margin-left: 16px;
                transition: all 0.2s ease;
              "
            >
              üîç Open Debug Images
            </button>
          </div>

          <div
            class="debug-status"
            id="debug-status"
            style="font-size: 0.9em; opacity: 0.8; margin-left: 40px"
          >
            Debug mode is disabled - no debug images will be saved
          </div>
          <div id="recent-debug-images" class="recent-debug-images"></div>
        </div>

        <p class="info-text">
          All settings are automatically saved when changed
        </p>
      </div>
    </div>

    <!-- Region selection overlay (hidden by default) -->
    <div id="region-selection-overlay" class="hidden">
      <div class="instructions">
        <h2>
          Select Regions for Slot <span id="selection-slot-number"></span>
        </h2>
        <p>Drag to move, resize using the handles at the corners</p>
      </div>
      <div class="selection-controls">
        <button id="save-regions" class="button-save">Save Regions</button>
        <button id="cancel-selection" class="button-cancel">Cancel</button>
      </div>
    </div>

    <script src="renderer.js"></script>
    <script src="widget-controller.js"></script>
  </body>
</html>
